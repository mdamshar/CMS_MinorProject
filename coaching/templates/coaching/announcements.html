{% extends 'coaching/base.html' %}
{% block title %}Announcements{% endblock %}
{% block content %}
<div class="container announcement-container">
    <h1 class="announcement-title">ðŸ“¢ Announcements</h1>
    {% if not is_student %}
    <form method="post" enctype="multipart/form-data" class="announcement-form">
        {% csrf_token %}
        <input type="text" name="title" placeholder="Title" required class="announcement-input">
        <textarea name="content" placeholder="Content" required class="announcement-textarea"></textarea>
        <input type="file" name="file" class="announcement-file">
        <div class="announcement-form-row">
            <label class="announcement-checkbox"><input type="checkbox" name="for_all" checked> For All</label>
            <select name="for_role" class="announcement-select">
                <option value="">--Role--</option>
                <option value="student">Student</option>
                <option value="teacher">Teacher</option>
                <option value="admin">Admin</option>
            </select>
            <button type="submit" class="announcement-btn">Post</button>
        </div>
    </form>
    {% endif %}
    <div class="announcement-list">
        {% for a in announcements %}
        <div class="announcement-card">
            <div class="announcement-card-header">
                <div class="announcement-card-title">{{ a.title }}</div>
                <div class="announcement-card-meta">By <b>{{ a.created_by.username }}</b> â€¢ {{ a.created_at|date:"M d, Y H:i" }}</div>
            </div>
            <div class="announcement-card-content">{{ a.content }}</div>
            {% if a.file %}
            <div class="announcement-card-file"><a href="{{ a.file.url }}" target="_blank">ðŸ“Ž Download Attachment</a></div>
            {% endif %}
        </div>
        {% empty %}
        <div class="announcement-empty">No announcements found.</div>
        {% endfor %}
    </div>
</div>
<style>
.announcement-container {
    max-width: 700px;
    margin: 40px auto 0 auto;
    background: #fff;
    border-radius: 1.5rem;
    box-shadow: 0 6px 32px rgba(99,102,241,0.10);
    padding: 38px 24px 32px 24px;
}
.announcement-title {
    font-size: 2.1em;
    color: #6366f1;
    font-weight: 800;
    margin-bottom: 18px;
    letter-spacing: 1px;
    text-align: center;
}
.announcement-form {
    display: flex;
    flex-direction: column;
    gap: 12px;
    background: #f8fafc;
    border-radius: 1rem;
    box-shadow: 0 2px 12px #6366f111;
    padding: 18px 18px 10px 18px;
    margin-bottom: 28px;
}
.announcement-input, .announcement-textarea, .announcement-file, .announcement-select {
    width: 100%;
    padding: 12px 14px;
    border-radius: 8px;
    border: 1.5px solid #c7d2fe;
    font-size: 1.08em;
    background: #fff;
    margin-bottom: 8px;
    transition: border 0.2s;
}
.announcement-input:focus, .announcement-textarea:focus, .announcement-select:focus {
    border: 1.5px solid #6366f1;
    outline: none;
}
.announcement-textarea {
    min-height: 70px;
    resize: vertical;
}
.announcement-form-row {
    display: flex;
    gap: 12px;
    align-items: center;
    flex-wrap: wrap;
}
.announcement-checkbox {
    font-size: 1em;
    color: #6366f1;
    font-weight: 500;
}
.announcement-btn {
    background: linear-gradient(90deg,#6366f1 60%,#22d3ee 100%);
    color: #fff;
    font-weight: 700;
    font-size: 1.08em;
    padding: 10px 28px;
    border: none;
    border-radius: 8px;
    box-shadow: 0 2px 8px #6366f133;
    transition: background 0.18s, box-shadow 0.18s;
    cursor: pointer;
}
.announcement-btn:hover {
    background: linear-gradient(90deg,#22d3ee 60%,#6366f1 100%);
}
.announcement-list {
    display: flex;
    flex-direction: column;
    gap: 22px;
}
.announcement-card {
    background: linear-gradient(135deg, #f8fafc 60%, #e0e7ff 100%);
    border-radius: 1.2rem;
    box-shadow: 0 4px 18px rgba(99,102,241,0.10);
    padding: 22px 18px 16px 18px;
    border: 1.5px solid #e0e7ff;
    transition: box-shadow 0.18s, border 0.18s;
    position: relative;
}
.announcement-card:hover {
    box-shadow: 0 8px 32px rgba(99,102,241,0.16);
    border-color: #6366f1;
}
.announcement-card-header {
    display: flex;
    flex-direction: column;
    gap: 2px;
    margin-bottom: 8px;
}
.announcement-card-title {
    color: #6366f1;
    font-size: 1.18em;
    font-weight: 700;
}
.announcement-card-meta {
    color: #64748b;
    font-size: 0.98em;
}
.announcement-card-content {
    color: #334155;
    font-size: 1.08em;
    margin-bottom: 8px;
    white-space: pre-line;
}
.announcement-card-file {
    margin-top: 6px;
}
.announcement-card-file a {
    color: #22d3ee;
    text-decoration: underline;
    font-size: 0.98em;
}
.announcement-empty {
    text-align: center;
    color: #6366f1;
    background: #e0e7ff;
    padding: 18px 0;
    border-radius: 1rem;
    font-size: 1.1em;
    font-weight: 600;
}
@media (max-width: 700px) {
    .announcement-container { padding: 12px 2vw; }
    .announcement-title { font-size: 1.3em; }
    .announcement-form { padding: 10px 4px; }
    .announcement-card { padding: 12px 6px; }
}
</style>
{% endblock %}
