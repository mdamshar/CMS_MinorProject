{% extends 'coaching/base.html' %}
{% block title %}Student List{% endblock %}
{% block content %}
<div class="container" style="max-width:800px;margin:40px auto 0 auto;">
    <h1 style="color:#6366f1;font-size:2em;">All Students</h1>
    <hr>
    <div style="margin-top:24px;">
        {% if students %}
        <table style="width:100%;border-collapse:collapse;background:#f8fafc;border-radius:1rem;box-shadow:0 2px 12px #6366f122;">
            <thead>
                <tr style="background:#6366f1;color:#fff;">
                    <th style="padding:12px 8px;text-align:left;">Name</th>
                    <th style="padding:12px 8px;text-align:left;">Email</th>
                    <th style="padding:12px 8px;text-align:left;">Enrolled Courses</th>
                </tr>
            </thead>
            <tbody>
                {% for student in students %}
                <tr style="border-bottom:1px solid #e0e7ff;">
                    <td style="padding:10px 8px;">{{ student.name }}</td>
                    <td style="padding:10px 8px;">{{ student.email }}</td>
                    <td style="padding:10px 8px;">
                        {% for course in student.enrolled_courses.all %}
                            {{ course.name }}{% if not forloop.last %}, {% endif %}
                        {% empty %}
                            None
                        {% endfor %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p style="color:#64748b;">No students found.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
